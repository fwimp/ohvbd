# Associate other data sources with gadm IDs

Intelligently bind together data with gadm IDs at all scales.

## Usage

``` r
assoc_gadm(
  df,
  lonlat_names = c("Longitude", "Latitude"),
  cache_location = NULL,
  basereq = NA
)
```

## Arguments

- df:

  the source data to bind gadm IDs to. This **must** contain decimal
  lonlat data!

- lonlat_names:

  a vector containing the column names of the longitude and latitude
  columns **IN THAT ORDER**!

- cache_location:

  path to cache location (defaults to user directory obtained from
  [`tools::R_user_dir()`](https://rdrr.io/r/tools/userdir.html)).

- basereq:

  the url of the AREAdata database (usually generated by
  [`ad_basereq()`](https://ohvbd.vbdhub.org/reference/ad_basereq.md)).
  If `NA`, uses the default.

## Value

A matrix of the `data` with added gadm columns.

## Caching

This will **ALWAYS** get and cache gid level 2 data sources. These files
are about 80MB total, so if you are running on a metered connection do
beware of this.

## Author

Francis Windram

## Examples

``` r
if (FALSE) { # interactive()
vtdf <- search_hub("Aedes aegypti", "vt") |>
  tail(20) |>
  fetch() |>
  glean(cols = c(
    "DatasetID",
    "Latitude",
    "Longitude",
    "Interactor1Genus",
    "Interactor1Species"
    ), returnunique = TRUE) |>
  assoc_gadm(lonlat_names = c("Longitude", "Latitude"))

}
```
